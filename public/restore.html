<!DOCTYPE html>
<html>
<head>
  <title>Restore Users</title>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
  <style>
    body { font-family: system-ui; max-width: 600px; margin: 50px auto; padding: 20px; }
    button { background: #0F2B3C; color: white; padding: 15px 30px; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; }
    button:hover { background: #1a3d52; }
    #status { margin-top: 20px; padding: 15px; border-radius: 8px; }
    .success { background: #d4edda; color: #155724; }
    .error { background: #f8d7da; color: #721c24; }
  </style>
</head>
<body>
  <h1>üîß Restore Users</h1>
  <p>Click the button below to restore all 26 original staff accounts.</p>
  <button onclick="restoreUsers()">Restore Users Now</button>
  <div id="status"></div>

  <script>
    firebase.initializeApp({
      apiKey: "AIzaSyDbOuTQGRW2LtQUpRFHmcXj782Zp4tEKvQ",
      authDomain: "boundaries-logbook-app.firebaseapp.com",
      projectId: "boundaries-logbook-app",
    });

    const db = firebase.firestore();

    const ORIGINAL_USERS = [
      { id: 'u-1768514812282', name: 'Daniel Test', email: 'daniel.keene223@gmail.com', password: 'Baseball5', role: 'TRAINEE', storeId: 'store-prosper', orgId: 'org-boundaries' },
      { id: 'u-1768538739974', name: 'Kendall Matthews', email: 'kfaithm08@gmail.com', password: 'Mdnikam5!', role: 'TRAINEE', storeId: 'store-elm', orgId: 'org-boundaries' },
      { id: 'u-1768541035086', name: 'Chrissa Ward', email: 'chrissaward05@icloud.com', password: 'Clw05_jlw', role: 'TRAINEE', storeId: 'store-elm', orgId: 'org-boundaries' },
      { id: 'u-1768562565000', name: 'Savannah Sundberg', email: 'savannah.sundberg17@gmail.com', password: 'Finnegan98!', role: 'TRAINEE', storeId: 'store-elm', orgId: 'org-boundaries' },
      { id: 'u-1768563073328', name: 'Hailey Gwata', email: 'haileywanisai@gmail.com', password: 'bifkac-7sufrI-dyssaz', role: 'TRAINEE', storeId: 'store-elm', orgId: 'org-boundaries' },
      { id: 'u-1768575310561', name: 'mackenzie Jefferson', email: 'mackenzieyjefferson@gmail.com', password: 'proBeach1', role: 'TRAINEE', storeId: 'store-prosper', orgId: 'org-boundaries' },
      { id: 'u-1768577876762', name: 'Riley Eldridge', email: 'rileyeldridge15@gmail.com', password: 'MooMoo#003', role: 'TRAINEE', storeId: 'store-prosper', orgId: 'org-boundaries' },
      { id: 'u-1768587881629', name: 'Daniel Prosper', email: 'daniel.keene@icloud.com', password: 'Baseball5', role: 'TRAINEE', storeId: 'store-prosper', orgId: 'org-boundaries' },
      { id: 'u-admin-1', name: 'Daniel', email: 'Daniel@boundariescoffee.com', password: 'Baseball5', role: 'ADMIN', storeId: 'store-prosper', orgId: 'org-boundaries' },
      { id: 'u-1768607878778', name: 'Anushka Sen', email: 'anushkassen5@gmail.com', password: '@Marchthird3', role: 'TRAINEE', storeId: 'store-prosper', orgId: 'org-boundaries' },
      { id: 'u-1768666499843', name: 'Meghan Brummell', email: 'meghanbrummell@verizon.net', password: 'BDknps45', role: 'TRAINEE', storeId: 'store-elm', orgId: 'org-boundaries' },
      { id: 'u-1768672752176', name: 'Cooper Bolterman', email: 'boltermancooper@gmail.com', password: 'Buckley00!', role: 'TRAINEE', storeId: 'store-prosper', orgId: 'org-boundaries' },
      { id: 'u-1768674705667', name: 'Bella Dearmon', email: 'belladearmon2007@gmail.com', password: 'moknyx-doxva3-Zuhgev', role: 'TRAINEE', storeId: 'store-prosper', orgId: 'org-boundaries' },
      { id: 'u-1768683419329', name: 'Sarah Hinkle', email: 'sarahhinkle67@gmail.com', password: '#Icedogs67', role: 'TRAINEE', storeId: 'store-prosper', orgId: 'org-boundaries' },
      { id: 'u-1768747990592', name: 'Cooper spann', email: 'cooperspann78@gmail.com', password: 'Coopercop07!', role: 'TRAINEE', storeId: 'store-prosper', orgId: 'org-boundaries' },
      { id: 'u-1768771673662', name: 'Kaelie Plaskey', email: 'kaelieplaskey1@gmail.com', password: 'Fishsticks1351!', role: 'TRAINEE', storeId: 'store-prosper', orgId: 'org-boundaries' },
      { id: 'u-1768821548937', name: 'Jose Aragundi', email: 'jdleoarm@gmail.com', password: 'Act1n5_94', role: 'TRAINEE', storeId: 'store-elm', orgId: 'org-boundaries' },
      { id: 'u-1768956819242', name: 'Makayla Wagoner', email: 'mkwagoner10@gmail.com', password: 'Jazzy2006!', role: 'TRAINEE', storeId: 'store-prosper', orgId: 'org-boundaries' },
      { id: 'u-1768971901003', name: 'Noelle Olsby', email: 'olsbyn@gmail.com', password: 'trixie22', role: 'TRAINEE', storeId: 'store-elm', orgId: 'org-boundaries' },
      { id: 'u-1768994058231', name: 'Hailey Gwata', email: 'haileygwata@gmail.com', password: 'tygvuq-nInwyh-9widxi', role: 'TRAINEE', storeId: 'store-elm', orgId: 'org-boundaries' },
      { id: 'u-1769105589168', name: 'Rafael Peralta', email: 'peralta.rafael.3@gmail.com', password: 'Moriah1209', role: 'TRAINEE', storeId: 'store-elm', orgId: 'org-boundaries' },
      { id: 'u-1769119594371', name: 'Kendall Matthews', email: 'kkenniie0513@yahoo.com', password: 'Mdnikam5!', role: 'TRAINEE', storeId: 'store-elm', orgId: 'org-boundaries' },
      { id: 'u-1769193504855', name: 'Madeline Merrill', email: 'madeciara@icloud.com', password: 'Pres+Mad25', role: 'TRAINEE', storeId: 'store-elm', orgId: 'org-boundaries' },
      { id: 'u-1769552727285', name: 'Brayden Beverly', email: 'brayden.beverly@icloud.com', password: 'Brayden2007', role: 'TRAINEE', storeId: 'store-prosper', orgId: 'org-boundaries' },
      { id: 'u-admin-2', name: 'Kate', email: 'Kate@BoundariesCoffee.com', password: 'Boundaries1234', role: 'ADMIN', storeId: 'store-elm', orgId: 'org-boundaries' },
      { id: 'u-1769781807441', name: 'Jaismin Cheema', email: 'jcheema_8@yahoo.com', password: 'woolly618Bed#', role: 'TRAINEE', storeId: 'store-elm', orgId: 'org-boundaries' },
    ];

    async function restoreUsers() {
      const status = document.getElementById('status');
      status.className = '';
      status.textContent = 'Restoring users...';

      try {
        const docRef = db.doc('organizations/org-boundaries/data/users');
        const doc = await docRef.get();
        const existing = doc.exists && doc.data().data ? doc.data().data : [];

        const emailMap = new Map();
        existing.forEach(u => emailMap.set(u.email.toLowerCase(), u));
        ORIGINAL_USERS.forEach(u => emailMap.set(u.email.toLowerCase(), u));

        const merged = Array.from(emailMap.values());

        await docRef.set({
          data: merged,
          lastUpdated: firebase.firestore.FieldValue.serverTimestamp()
        });

        status.className = 'success';
        status.innerHTML = `<strong>‚úÖ Success!</strong><br>Restored ${ORIGINAL_USERS.length} original users.<br>Total users now: ${merged.length}<br><br><a href="/">Go to Login ‚Üí</a>`;
      } catch (error) {
        status.className = 'error';
        status.textContent = '‚ùå Error: ' + error.message;
        console.error(error);
      }
    }
  </script>
</body>
</html>
